<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Admin - FIDEPROTA STORE</title>
  <style>
    body { font-family: sans-serif; background: #1e1e2e; color: white; padding: 2rem; }
    input, textarea, button { display: block; margin-top: 10px; padding: 10px; width: 100%; max-width: 400px; }
    .hidden { display: none; }
    .produtos-container { margin-top: 2rem; }
    .produto-item { background: #333; padding: 1rem; margin-bottom: 1rem; border-radius: 8px; }
  </style>
</head>
<body>
  <h1>Admin - FIDEPROTA STORE</h1>
  <div id="login">
    <input type="password" id="senha" placeholder="Digite a senha de admin">
    <button onclick="verificarSenha()">Entrar</button>
  </div>

  <div id="painel" class="hidden">
    <h2>Adicionar Produto</h2>
    <input id="nome" placeholder="Nome do produto">
    <input id="imagem" type="file" onchange="previewImagem(event)" placeholder="Imagem do produto">
    <img id="preview" style="max-width: 300px; margin-top: 10px;" />
    <textarea id="descricao" placeholder="Descrição"></textarea>
    <button onclick="salvarProduto()">Salvar Produto</button>

    <h2>Adicionar Categoria</h2>
    <input id="categoria_nome" placeholder="Nome da categoria">
    <textarea id="categoria_descricao" placeholder="Descrição da categoria"></textarea>
    <button onclick="salvarCategoria()">Salvar Categoria</button>

    <div class="produtos-container">
      <h2>Produtos Cadastrados</h2>
      <div id="produtosCadastrados"></div>
    </div>
  </div>

  <script>
    const SENHA = 'fideprota123';

    function verificarSenha() {
      const input = document.getElementById('senha').value;
      if (input === SENHA) {
        document.getElementById('login').classList.add('hidden');
        document.getElementById('painel').classList.remove('hidden');
        carregarProdutos();
      } else {
        alert('Senha incorreta!');
      }
    }

    function carregarProdutos() {
      const produtos = JSON.parse(localStorage.getItem('produtos')) || [];
      const produtosContainer = document.getElementById('produtosCadastrados');
      produtosContainer.innerHTML = produtos.map(prod => `
        <div class="produto-item">
          <h3>${prod.nome}</h3>
          <p>${prod.descricao}</p>
          <img src="${prod.imagem}" style="max-width: 100px;" />
        </div>
      `).join('');
    }

    function salvarProduto() {
      const nome = document.getElementById('nome').value;
      const descricao = document.getElementById('descricao').value;
      const imagem = document.getElementById('preview').src;
      const produtos = JSON.parse(localStorage.getItem('produtos')) || [];
      produtos.push({ nome, descricao, imagem });
      localStorage.setItem('produtos', JSON.stringify(produtos));
      carregarProdutos();
    }

    function salvarCategoria() {
      const nome = document.getElementById('categoria_nome').value;
      const descricao = document.getElementById('categoria_descricao').value;
      const categorias = JSON.parse(localStorage.getItem('categorias')) || [];
      categorias.push({ nome, descricao });
      localStorage.setItem('categorias', JSON.stringify(categorias));
    }

    function previewImagem(event) {
      const file = event.target.files[0];
      const reader = new FileReader();
      reader.onload = function() {
        document.getElementById('preview').src = reader.result;
      };
      reader.readAsDataURL(file);
    }
  </script>
</body>
</html>
